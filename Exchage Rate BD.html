<!doctype html>
<html lang="en">
    <head>
        <link
            href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMUAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAMUAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAD//////////////////////xj72P8Y+9j/AAAA/wAAAP8AAAD/GPvY/xj72P8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP//////GPvY/xj72P8AAAD/GPvY/xj72P8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP////////////////////////////////8Y+9j/GPvY/xj72P8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAD/////////////////////////////////GPvY/xj72P8Y+9j/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP//////GPvY/xj72P8AAAD/GPvY/xj72P8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP//////////////////////GPvY/xj72P8AAAD/AAAA/wAAAP8Y+9j/GPvY/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAxQAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAPAPAADgBwAAwAMAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAwAMAAOAHAADwDwAA//8AAA=="
            rel="icon"
            type="image/x-icon" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ExRate</title>
        <style>
            * {
                font-family:
                    Roobert,
                    -apple-system,
                    BlinkMacSystemFont,
                    "Segoe UI",
                    Helvetica,
                    Arial,
                    sans-serif,
                    "Apple Color Emoji",
                    "Segoe UI Emoji",
                    "Segoe UI Symbol";
                cursor: none;
            }

            body {
                margin: 0;
                overflow-x: hidden;
                padding: 0;
                background-color: #000000;
            }

            input {
                font-size: 14px;
                font-weight: 600;
            }

            .button-27 {
                appearance: none;
                background-color: #000000;
                border: 2px solid #626262;
                box-sizing: border-box;
                color: #ffffff;
                display: inline-block;
                font-size: 14px;
                font-weight: 600;
                line-height: normal;
                min-height: 45px;
                min-width: 0;
                outline: none;
                padding: 17px 11px;
                text-align: center;
                text-decoration: none;
                transition: all 300ms cubic-bezier(0.23, 1, 0.32, 1);
                user-select: none;
                -webkit-user-select: none;
                touch-action: manipulation;
                will-change: transform;
            }

            .button-27:hover {
                box-shadow: #d6f918 0 8px 15px;
                transform: translateY(2px);
            }

            .button-27:active {
                box-shadow: none;
                transform: translateY(0);
            }

            .navbar a:active {
                box-shadow: none;
                transform: translateY(0);
            }

            .navbar {
                background-color: #000000;
                color: #fff;
                position: fixed;
                width: 100%;
            }

            .pdf-viewer {
                margin-top: 55px; /* Adjusted for navbar height */
                width: 100%;
                height: 80vh;
                border: none;
            }

            .date-picker {
                display: none;
                background-color: #000000;
                border: 2px solid #d6f918;
                color: white;
                border-radius: 15px;
                position: fixed;
                font-size: 16px;
                font-weight: 600;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: #000000;
                padding: 13px 29px;
                border: 2px solid #333;
                box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
                z-index: 2000;
            }

            .date-picker:hover {
                box-shadow: #d6f918 0 8px 15px;
            }

            .date-picker input {
                width: 100%;
            }

            .button-28 {
                background-color: #000000;
                border: 2px solid #626262;
                border-radius: 7px;
                color: #ffffff;
                display: inline-block;
                font-size: 16px;
                font-weight: 400;
                margin: 10px 0px;
                padding: 6px 11px;
            }

            .button-28:hover {
                box-shadow: #d6f918 0 8px 15px;
            }

            .button-28:active {
                box-shadow: none;
                transform: translateY(0);
            }

            .link {
                text-decoration: none;
                color: #d6f918;
            }

            .footer {
                align-content: right;
                text-align: right;
            }

            .last {
                display: inline-block;
                background-color: #000000;
                text-decoration: none;
                color: #ffffff;
                font-size: 12px;
                font-weight: 600;
                display: inline-block;
                width: 45%; /* Adjust the width as needed */
                text-align: right;
                vertical-align: center;
            }

            .name {
                text-decoration: none;
                color: #d6f918;
                font-size: 2.5em;
                font-weight: 700;
                margin-right: 5px;
            }

            .inline {
                display: inline-block;
                width: 54%;
                text-align: left;
                align-content: center;
                display: inline-table;
            }

            [type="checkbox"]:checked,
            [type="checkbox"]:not(:checked) {
                position: absolute;
                left: -9999px;
                opacity: 0;
                pointer-events: none;
            }

            .dropdown:checked + label,
            .dropdown:not(:checked) + label {
                appearance: none;
                background-color: #000000;
                border: 2px solid #626262;
                box-sizing: border-box;
                color: #ffffff;
                display: inline-block;
                font-size: 14px;
                font-weight: 600;
                line-height: normal;
                min-height: 45px;
                min-width: 0;
                outline: none;
                padding: 17px 11px;
                text-align: center;
                text-decoration: none;
                user-select: none;
                -webkit-user-select: none;
            }

            .dropdown:checked + label,
            .dropdown:not(:checked) + label:hover {
                box-shadow: #d6f918 0 8px 15px;
                transform: translateY(2px);
            }

            .dropdown:checked + label,
            .dropdown:not(:checked) + label :active {
                box-shadow: none;
                transform: translateY(0);
            }

            .section-dropdown {
                position: absolute;
                padding: 3px;
                background-color: #000;
                display: block;
                opacity: 0;
                pointer-events: none;
            }

            .dropdown:checked ~ .section-dropdown {
                opacity: 1;
                pointer-events: auto;
                transform: translateY(0);
            }

            .as {
                appearance: none;
                background-color: #000000;
                border: 2px solid #626262;
                box-sizing: border-box;
                color: #ffffff;
                display: inline-block;
                font-size: 14px;
                font-weight: 600;
                line-height: normal;
                min-height: 45px;
                min-width: 0;
                outline: none;
                padding: 17px 11px;
                text-align: center;
                text-decoration: none;
                user-select: none;
                -webkit-user-select: none;
                display: -ms-flexbox;
                display: flex;
                -webkit-align-items: center;
                -moz-align-items: center;
                -ms-align-items: center;
                align-items: center;
                justify-content: space-between;
                -ms-flex-pack: distribute;
            }

            .as:hover {
                color: #fff;
                border: 1px solid #d8fb18;
                box-shadow: #d6f918 0 8px 15px;
                transform: translateY(2px);
            }

            .as:active {
                box-shadow: none;
                transform: translateY(0);
            }
        </style>
    </head>
    <body>
        <div class="navbar">
            <div class="inline">
                <a class="button-27" id="homeLink">Today's Rate</a>
                <button class="button-27" onclick="showDatePicker()">Select Date</button>
                <a style="border: 1px solid #d8fb18" class="button-27" href="https://linktr.ee/kabbo.jpg">@kabbo.jpg</a>
                <div class="inline">
                    <input class="dropdown" type="checkbox" id="dropdown" name="dropdown" />
                    <label class="for-dropdown" for="dropdown">Bank FX-Rate</label>
                    <div class="section-dropdown">
                        <a class="as" href="https://www.dutchbanglabank.com/fc/Exchange-Rate.pdf" target="_blank">
                            Dutch Bangla Bank</a
                        >
                        <a class="as" href="https://www.primebank.com.bd/exchange-rate" target="_blank">Prime Bank</a>
                        <a class="as" href="https://www.ebl.com.bd/forexrate" target="_blank">Eastern Bank Ltd</a>
                        <a class="as" id="bbl">Brac Bank Ltd</a>
                    </div>
                </div>
            </div>
            <div class="last">Powered By <a class="link" href="https://bafeda.org.bd/">BAFEDA</a></div>
        </div>

        <div id="datePicker" class="date-picker">
            <label for="dateInput">Select a date:</label>
            <input type="date" id="dateInput" onchange="loadPdfByDate()" />
            <button class="button-28" onclick="hideDatePicker()">Close</button>
        </div>

        <iframe id="pdfViewer" class="pdf-viewer" title="PDF Viewer"> </iframe>

        <div class="footer">
            <a class="name">ExRate</a>
        </div>
        <script>
            function showDatePicker() {
                document.getElementById("datePicker").style.display = "block";
                setDateConstraints();
            }

            function hideDatePicker() {
                document.getElementById("datePicker").style.display = "none";
            }

            function setDateConstraints() {
                const dateInput = document.getElementById("dateInput");
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, "0");
                const day = String(today.getDate()).padStart(2, "0");
                dateInput.max = `${year}-${month}-${day}`;

                // Disable Fridays and Saturdays
                const startDate = new Date(year, 0, 1);
                const endDate = new Date(year + 1, 0, 1);
                let disabledDates = [];

                for (let d = startDate; d < endDate; d.setDate(d.getDate() + 1)) {
                    const dayOfWeek = d.getDay();
                    if (dayOfWeek === 5 || dayOfWeek === 6) {
                        // 5 = Friday, 6 = Saturday
                        disabledDates.push(d.toISOString().split("T")[0]);
                    }
                }

                dateInput.addEventListener("input", function () {
                    const selectedDate = dateInput.value;
                    if (disabledDates.includes(selectedDate)) {
                        alert("Fridays and Saturdays are not selectable. Please choose a different date.");
                        dateInput.value = "";
                    }
                });
            }

            function loadPdfByDate() {
                const dateInput = document.getElementById("dateInput").value;
                if (dateInput) {
                    const selectedDate = new Date(dateInput);
                    const day = selectedDate.getUTCDay();

                    if (day === 5 || day === 6) {
                        alert("Fridays and Saturdays are not selectable. Please choose a different date.");
                        document.getElementById("dateInput").value = "";
                    } else {
                        const pdfUrl = `https://docs.google.com/viewerng/viewer?url=https://bafeda.org.bd/uploads/average/exchange/exchange-${dateInput}.pdf&embedded=true`;
                        document.getElementById("pdfViewer").src = pdfUrl;
                        hideDatePicker();
                    }
                }
            }

            function loadPdfForDate(date) {
                const pdfUrl = `https://docs.google.com/viewerng/viewer?url=https://bafeda.org.bd/uploads/average/exchange/exchange-${date}.pdf&embedded=true`;
                document.getElementById("pdfViewer").src = pdfUrl;
            }

            function getFormattedDate(date) {
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, "0");
                const day = String(date.getDate()).padStart(2, "0");
                return `${year}-${month}-${day}`;
            }

            const today = new Date();
            let targetDate = new Date(today);
            const dayOfWeek = today.getDay();

            if (dayOfWeek === 5) {
                targetDate.setDate(today.getDate() - 1);
            } else if (dayOfWeek === 6) {
                targetDate.setDate(today.getDate() - 2);
            }

            const formattedDate = getFormattedDate(targetDate);
            loadPdfForDate(formattedDate);

            document.getElementById("homeLink").addEventListener("click", function (event) {
                event.preventDefault();
                loadPdfForDate(getFormattedDate(new Date()));
            });

            document.getElementById("bbl").addEventListener("click", (event) => {
                event.preventDefault();
                const url = "https://www.bracbank.com/storage/app/public/pdf/forexRate.pdf";
                document.getElementById("pdfViewer").src = url;
            });

            document.getElementsByTagName("body")[0].addEventListener("mousemove", function (e) {
                const cursor = document.getElementById("cursor");
                cursor.style.left = e.clientX + "px";
                cursor.style.top = e.clientY + "px";
            });

            document.getElementById("pdfViewer").addEventListener("mouseover", function () {
                document.getElementById("cursor").style.display = "none";
            });

            document.getElementById("pdfViewer").addEventListener("mouseout", function () {
                document.getElementById("cursor").style.display = "block";
            });
        </script>
        <div
            class="cursor"
            id="cursor"
            style="
                position: fixed;
                border-radius: 50%;
                pointer-events: none;
                top: 50%;
                z-index: 99999;
                border: 8px solid #d6f918;
                box-shadow: 0 0 25px rgba(186, 255, 0, 0.6);
            "></div>
    </body>
</html>